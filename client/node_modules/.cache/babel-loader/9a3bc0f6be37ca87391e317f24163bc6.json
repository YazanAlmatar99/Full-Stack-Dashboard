{"ast":null,"code":"var _jsxFileName = \"/Users/yazanalmatar/Desktop/dashboard/client/src/components/InventoryChart.js\";\nimport React from \"react\";\nimport Chart from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\nimport \"../App.css\";\n\nclass InventoryChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleData = () => {\n      const datasetsData = [];\n      const tempDates = [];\n      var dates = [];\n      var datasetsObject = {};\n      const data = this.state.data;\n      var datesArray = data[0].inventory;\n\n      function SortDate() {\n        data[0].inventory.sort(function (temp1, temp2) {\n          return new Date(temp1.date) - new Date(temp2.date);\n        });\n      }\n\n      SortDate();\n      data[0].inventory.map(inv => {});\n      data[0].variants.map((variant, i) => {\n        datasetsObject[variant.id] = {\n          label: variant.title,\n          inventory: []\n        };\n      });\n      data[0].inventory.map(inv => {\n        tempDates.push(inv.date);\n        inv.variants.map(variant => {\n          datasetsObject[variant.id].inventory.push(variant.inventory_quantity);\n        });\n      });\n      tempDates.map(date => {\n        var value = date.split(\"T\")[0];\n        dates.push(value);\n      });\n      this.setState({\n        datesArr: dates\n      });\n\n      function getRandomColor() {\n        var letters = \"0123456789ABCDEF\";\n        var color = \"#\";\n\n        for (var i = 0; i < 6; i++) {\n          color += letters[Math.floor(Math.random() * 16)];\n        }\n\n        return color;\n      }\n\n      const IDs = Object.keys(datasetsObject);\n\n      for (var i = 0; i < IDs.length; i++) {\n        var finalObject = {\n          data: datasetsObject[IDs[i]].inventory,\n          borderColor: getRandomColor(),\n          label: \"Size: \".concat(datasetsObject[IDs[i]].label)\n        };\n        datasetsData.push(finalObject);\n      }\n\n      this.setState({\n        chartData: datasetsData\n      }); //console.log(datasetsObject)\n    };\n\n    this.state = {\n      data: this.props.data,\n      datesArr: [],\n      chartData: [],\n      options: {\n        legend: {\n          labels: {\n            // This more specific font property overrides the global property\n            fontColor: 'red'\n          }\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.handleData();\n  }\n\n  render() {\n    var data = {\n      labels: this.state.datesArr,\n      datasets: this.state.chartData //  [\n      //   {\n      //     label: \"My First dataset\",\n      //     //backgroundColor: \"rgb(255, 99, 132)\",\n      //     borderColor: \"rgb(255, 99, 132)\",\n      //     data: [0, 10, 5, 2, 20, 30, 45]\n      //   }\n      // ]\n\n    };\n    return React.createElement(\"div\", {\n      className: \"chart-comp-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Line, {\n      data: data,\n      width: 500,\n      height: 700,\n      options: {\n        maintainAspectRatio: false\n      },\n      options: this.state.options,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default InventoryChart;","map":{"version":3,"sources":["/Users/yazanalmatar/Desktop/dashboard/client/src/components/InventoryChart.js"],"names":["React","Chart","Line","InventoryChart","Component","constructor","props","handleData","datasetsData","tempDates","dates","datasetsObject","data","state","datesArray","inventory","SortDate","sort","temp1","temp2","Date","date","map","inv","variants","variant","i","id","label","title","push","inventory_quantity","value","split","setState","datesArr","getRandomColor","letters","color","Math","floor","random","IDs","Object","keys","length","finalObject","borderColor","chartData","options","legend","labels","fontColor","componentDidMount","render","datasets","maintainAspectRatio"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAO,YAAP;;AACA,MAAMC,cAAN,SAA6BH,KAAK,CAACI,SAAnC,CAA6C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqBnBC,UArBmB,GAqBN,MAAM;AAEjB,YAAMC,YAAY,GAAG,EAArB;AACA,YAAMC,SAAS,GAAG,EAAlB;AACA,UAAIC,KAAK,GAAG,EAAZ;AACA,UAAIC,cAAc,GAAG,EAArB;AACA,YAAMC,IAAI,GAAG,KAAKC,KAAL,CAAWD,IAAxB;AACA,UAAIE,UAAU,GAAGF,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAzB;;AAEA,eAASC,QAAT,GAAoB;AAClBJ,QAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAR,CAAkBE,IAAlB,CAAuB,UAASC,KAAT,EAAgBC,KAAhB,EAAuB;AAC5C,iBAAO,IAAIC,IAAJ,CAASF,KAAK,CAACG,IAAf,IAAuB,IAAID,IAAJ,CAASD,KAAK,CAACE,IAAf,CAA9B;AACD,SAFD;AAGD;;AACDL,MAAAA,QAAQ;AAERJ,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAR,CAAkBO,GAAlB,CAAsBC,GAAG,IAAI,CAAE,CAA/B;AACAX,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQY,QAAR,CAAiBF,GAAjB,CAAqB,CAACG,OAAD,EAAUC,CAAV,KAAgB;AACnCf,QAAAA,cAAc,CAACc,OAAO,CAACE,EAAT,CAAd,GAA6B;AAC3BC,UAAAA,KAAK,EAAEH,OAAO,CAACI,KADY;AAE3Bd,UAAAA,SAAS,EAAE;AAFgB,SAA7B;AAID,OALD;AAOAH,MAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQG,SAAR,CAAkBO,GAAlB,CAAsBC,GAAG,IAAI;AAC3Bd,QAAAA,SAAS,CAACqB,IAAV,CAAeP,GAAG,CAACF,IAAnB;AACAE,QAAAA,GAAG,CAACC,QAAJ,CAAaF,GAAb,CAAiBG,OAAO,IAAI;AAC1Bd,UAAAA,cAAc,CAACc,OAAO,CAACE,EAAT,CAAd,CAA2BZ,SAA3B,CAAqCe,IAArC,CAA0CL,OAAO,CAACM,kBAAlD;AACD,SAFD;AAGD,OALD;AAMAtB,MAAAA,SAAS,CAACa,GAAV,CAAcD,IAAI,IAAI;AACpB,YAAIW,KAAK,GAAGX,IAAI,CAACY,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAZ;AACAvB,QAAAA,KAAK,CAACoB,IAAN,CAAWE,KAAX;AACD,OAHD;AAIA,WAAKE,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEzB;AAAZ,OAAd;;AACA,eAAS0B,cAAT,GAA0B;AACxB,YAAIC,OAAO,GAAG,kBAAd;AACA,YAAIC,KAAK,GAAG,GAAZ;;AACA,aAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BY,UAAAA,KAAK,IAAID,OAAO,CAACE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAD,CAAhB;AACD;;AACD,eAAOH,KAAP;AACD;;AAED,YAAMI,GAAG,GAAGC,MAAM,CAACC,IAAP,CAAYjC,cAAZ,CAAZ;;AACA,WAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgB,GAAG,CAACG,MAAxB,EAAgCnB,CAAC,EAAjC,EAAqC;AACnC,YAAIoB,WAAW,GAAG;AAChBlC,UAAAA,IAAI,EAAED,cAAc,CAAC+B,GAAG,CAAChB,CAAD,CAAJ,CAAd,CAAuBX,SADb;AAEhBgC,UAAAA,WAAW,EAAEX,cAAc,EAFX;AAGhBR,UAAAA,KAAK,kBAAWjB,cAAc,CAAC+B,GAAG,CAAChB,CAAD,CAAJ,CAAd,CAAuBE,KAAlC;AAHW,SAAlB;AAKApB,QAAAA,YAAY,CAACsB,IAAb,CAAkBgB,WAAlB;AACD;;AACD,WAAKZ,QAAL,CAAc;AAAEc,QAAAA,SAAS,EAAExC;AAAb,OAAd,EArDiB,CAsDjB;AACD,KA5EkB;;AAEjB,SAAKK,KAAL,GAAa;AACXD,MAAAA,IAAI,EAAE,KAAKN,KAAL,CAAWM,IADN;AAEXuB,MAAAA,QAAQ,EAAE,EAFC;AAGXa,MAAAA,SAAS,EAAE,EAHA;AAIVC,MAAAA,OAAO,EAAE;AACRC,QAAAA,MAAM,EAAE;AACJC,UAAAA,MAAM,EAAE;AACJ;AACAC,YAAAA,SAAS,EAAE;AAFP;AADJ;AADA;AAJC,KAAb;AAaD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAK9C,UAAL;AACD;;AA0DD+C,EAAAA,MAAM,GAAG;AACP,QAAI1C,IAAI,GAAG;AACTuC,MAAAA,MAAM,EAAE,KAAKtC,KAAL,CAAWsB,QADV;AAEToB,MAAAA,QAAQ,EAAE,KAAK1C,KAAL,CAAWmC,SAFZ,CAIT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAXS,KAAX;AAaA,WACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACE,MAAA,IAAI,EAAEpC,IADR;AAEE,MAAA,KAAK,EAAE,GAFT;AAGE,MAAA,MAAM,EAAE,GAHV;AAIE,MAAA,OAAO,EAAE;AAAE4C,QAAAA,mBAAmB,EAAE;AAAvB,OAJX;AAKE,MAAA,OAAO,EAAE,KAAK3C,KAAL,CAAWoC,OALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAWD;;AAvG0C;;AAyG7C,eAAe9C,cAAf","sourcesContent":["import React from \"react\";\nimport Chart from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\nimport \"../App.css\";\nclass InventoryChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data,\n      datesArr: [],\n      chartData: [],\n       options: {\n        legend: {\n            labels: {\n                // This more specific font property overrides the global property\n                fontColor: 'red'\n            }\n        }\n    }\n    };\n  }\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.handleData();\n  }\n  \n  handleData = () => {\n     \n    const datasetsData = [];\n    const tempDates = [];\n    var dates = [];\n    var datasetsObject = {};\n    const data = this.state.data;\n    var datesArray = data[0].inventory;\n\n    function SortDate() {\n      data[0].inventory.sort(function(temp1, temp2) {\n        return new Date(temp1.date) - new Date(temp2.date);\n      });\n    }\n    SortDate();\n\n    data[0].inventory.map(inv => {});\n    data[0].variants.map((variant, i) => {\n      datasetsObject[variant.id] = {\n        label: variant.title,\n        inventory: []\n      };\n    });\n\n    data[0].inventory.map(inv => {\n      tempDates.push(inv.date);\n      inv.variants.map(variant => {\n        datasetsObject[variant.id].inventory.push(variant.inventory_quantity);\n      });\n    });\n    tempDates.map(date => {\n      var value = date.split(\"T\")[0];\n      dates.push(value);\n    });\n    this.setState({ datesArr: dates });\n    function getRandomColor() {\n      var letters = \"0123456789ABCDEF\";\n      var color = \"#\";\n      for (var i = 0; i < 6; i++) {\n        color += letters[Math.floor(Math.random() * 16)];\n      }\n      return color;\n    }\n\n    const IDs = Object.keys(datasetsObject);\n    for (var i = 0; i < IDs.length; i++) {\n      var finalObject = {\n        data: datasetsObject[IDs[i]].inventory,\n        borderColor: getRandomColor(),\n        label: `Size: ${datasetsObject[IDs[i]].label}`\n      };\n      datasetsData.push(finalObject);\n    }\n    this.setState({ chartData: datasetsData });\n    //console.log(datasetsObject)\n  };\n  render() {\n    var data = {\n      labels: this.state.datesArr,\n      datasets: this.state.chartData, \n     \n      //  [\n      //   {\n      //     label: \"My First dataset\",\n      //     //backgroundColor: \"rgb(255, 99, 132)\",\n      //     borderColor: \"rgb(255, 99, 132)\",\n      //     data: [0, 10, 5, 2, 20, 30, 45]\n      //   }\n      // ]\n    };\n    return (\n      <div className=\"chart-comp-container\">\n        <Line\n          data={data}\n          width={500}\n          height={700}\n          options={{ maintainAspectRatio: false }}\n          options={this.state.options}\n        />\n      </div>\n    );\n  }\n}\nexport default InventoryChart;\n"]},"metadata":{},"sourceType":"module"}