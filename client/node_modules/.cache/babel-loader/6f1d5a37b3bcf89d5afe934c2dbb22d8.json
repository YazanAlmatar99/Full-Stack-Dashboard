{"ast":null,"code":"var _jsxFileName = \"/Users/yazanalmatar/Desktop/dashboard/client/src/components/InventoryChart.js\";\nimport React from \"react\";\nimport Chart from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\n\nclass InventoryChart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleData = () => {\n      const datasetsData = [];\n      const tempDates = [];\n      var dates = [];\n      var datasetsObject = {};\n      const data = this.state.data;\n      var datesArray = data[0].inventory;\n      datesArray[3].date = \"2019-08-30T16:05:55.913Z\";\n\n      function SortDate() {\n        data[0].inventory.sort(function (temp1, temp2) {\n          return new Date(temp1.date) - new Date(temp2.date);\n        });\n      }\n\n      SortDate(); // console.log(data[0].inventory);\n      // console.log(data[0]);\n\n      data[0].inventory.map(inv => {});\n      data[0].variants.map((variant, i) => {\n        datasetsObject[variant.id] = {\n          \"label\": variant.title,\n          \"inventory\": []\n        };\n      });\n      data[0].inventory.map(inv => {\n        tempDates.push(inv.date);\n        inv.variants.map(variant => {\n          //console.log(variant);\n          datasetsObject[variant.id].inventory.push(variant.inventory_quantity);\n        });\n      });\n      tempDates.map(date => {\n        var value = date.split(\"T\")[0];\n        dates.push(value);\n      }); // console.log(datasetsObject);\n      // console.log(dates)\n\n      this.setState({\n        datesArr: dates\n      });\n      const IDs = Object.keys(datasetsObject);\n\n      for (var i = 0; i < IDs.length; i++) {\n        var finalObject = {\n          data: datasetsObject[IDs[i]].inventory,\n          borderColor: \"rgb(255, 99, 132)\",\n          label: \"Size: \".concat(datasetsObject[IDs[i]].label)\n        };\n        datasetsData.push(finalObject);\n      } //console.log(datasetsObject)\n\n    };\n\n    this.state = {\n      data: this.props.data,\n      datesArr: [],\n      chartData: []\n    };\n  }\n\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.handleData();\n  }\n\n  render() {\n    var data = {\n      labels: this.state.datesArr,\n      datasets: [{\n        label: \"My First dataset\",\n        //backgroundColor: \"rgb(255, 99, 132)\",\n        borderColor: \"rgb(255, 99, 132)\",\n        data: [0, 10, 5, 2, 20, 30, 45]\n      }]\n    }; //console.log(this.state.datesArr)\n\n    return React.createElement(\"div\", {\n      className: \"chart-comp-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Line, {\n      data: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default InventoryChart;","map":{"version":3,"sources":["/Users/yazanalmatar/Desktop/dashboard/client/src/components/InventoryChart.js"],"names":["React","Chart","Line","InventoryChart","Component","constructor","props","handleData","datasetsData","tempDates","dates","datasetsObject","data","state","datesArray","inventory","date","SortDate","sort","temp1","temp2","Date","map","inv","variants","variant","i","id","title","push","inventory_quantity","value","split","setState","datesArr","IDs","Object","keys","length","finalObject","borderColor","label","chartData","componentDidMount","render","labels","datasets"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Chart from \"chart.js\";\nimport { Line } from \"react-chartjs-2\";\n\nclass InventoryChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data,\n      datesArr:[],\n      chartData: []\n    };\n  }\n  componentDidMount() {\n    //console.log(this.props.data)\n    this.handleData();\n  }\n \n\n  handleData = () => {\n    const datasetsData = [];\n    const tempDates = [];\n    var dates = [];\n    var datasetsObject = {};\n    const data = this.state.data;\n    var datesArray = data[0].inventory;\n    datesArray[3].date = \"2019-08-30T16:05:55.913Z\";\n\n    function SortDate() {\n      data[0].inventory.sort(function(temp1, temp2) {\n        return new Date(temp1.date) - new Date(temp2.date);\n      });\n    }\n    SortDate();\n\n    // console.log(data[0].inventory);\n    // console.log(data[0]);\n\n    data[0].inventory.map(inv=>{\n      \n    })\n    data[0].variants.map((variant, i) => {\n      datasetsObject[variant.id] = {\n        \"label\": variant.title,\n        \"inventory\": []\n      }\n    });\n\n\n    data[0].inventory.map((inv) => {\n      tempDates.push(inv.date)\n      inv.variants.map((variant) => {\n        //console.log(variant);\n        datasetsObject[variant.id].inventory.push(variant.inventory_quantity);\n      });\n    });\n    tempDates.map(date=> {\n      var value = date.split(\"T\")[0]\n      dates.push(value)\n    })\n    // console.log(datasetsObject);\n    // console.log(dates)\n    \n    this.setState({datesArr:dates})\n    \n    const IDs = Object.keys(datasetsObject)\n    for (var i = 0; i < IDs.length; i ++) {    \n      var finalObject = {\n        data:datasetsObject[IDs[i]].inventory,\n        borderColor: \"rgb(255, 99, 132)\",\n        label: `Size: ${datasetsObject[IDs[i]].label}`\n      }\n      datasetsData.push(finalObject)\n    }\n//console.log(datasetsObject)\n  };\n  render() {\n    var data = {\n      labels: this.state.datesArr,\n      datasets: [\n        {\n          label: \"My First dataset\",\n          //backgroundColor: \"rgb(255, 99, 132)\",\n          borderColor: \"rgb(255, 99, 132)\",\n          data: [0, 10, 5, 2, 20, 30, 45]\n        }\n      ]\n    };\n    //console.log(this.state.datesArr)\n    return (\n      <div className=\"chart-comp-container\">\n        <Line data={data} />\n      </div>\n    );\n  }\n}\nexport default InventoryChart;\n"]},"metadata":{},"sourceType":"module"}