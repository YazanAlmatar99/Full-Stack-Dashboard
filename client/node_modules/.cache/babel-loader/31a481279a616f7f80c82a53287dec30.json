{"ast":null,"code":"var _jsxFileName = \"/Users/yazanalmatar/Desktop/dashboard/client/src/components/Products.js\";\nimport React from \"react\";\nimport \"../App.css\";\nimport ProductComponent from \"./ProductComponent\";\nimport Loading from \"./Loading\";\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchProducts = async () => {\n      const response = await fetch(\"/api/v1/inventory\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        return response.json();\n      }).then(products => {\n        this.setState({\n          productsArray: products.data\n        });\n        this.costOfGoodsAndRetail();\n      });\n    };\n\n    this.costOfGoodsAndRetail = () => {\n      var costOfGoods = 0;\n      var costOfRetail = 0;\n      var productsArray = this.state.productsArray;\n      productsArray.map(product => {\n        product.variants.map(prdct => {\n          var tempCost = prdct.inventory_quantity * parseInt(prdct.cost_per_item);\n          costOfGoods = costOfGoods + tempCost;\n          var tempCost2 = prdct.inventory_quantity * parseInt(prdct.price);\n          costOfRetail = costOfRetail + tempCost2;\n        });\n      });\n      this.setState({\n        costOfGoods: costOfGoods,\n        costOfRetail: costOfRetail\n      });\n      console.log(costOfGoods);\n      console.log(costOfRetail);\n    };\n\n    this.state = {\n      productsArray: [],\n      costOfGoods: null,\n      costOfRetail: null\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProducts();\n  }\n\n  renderProducts() {\n    if (this.state.productsArray[0]) {\n      const title = this.state.productsArray[0].title;\n      console.log(title);\n      const productsArray = this.state.productsArray;\n      const productsRendered = productsArray.map(product => {\n        return React.createElement(ProductComponent, {\n          id: product.id,\n          title: product.title,\n          image: product.image,\n          product_type: product.product_type,\n          variants: product.variants,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"div\", {\n        className: \"product-component-main-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, productsRendered);\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        margin: \"auto\",\n        alignItems: \"center\",\n        marginTop: \"100px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"products-page-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"products-page-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Cost of retail: \", this.state.costOfRetail ? \"\".concat(this.state.costOfRetail, \" $\") : \"Loading...\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Cost of goods: \", this.state.costOfGoods ? \"\".concat(this.state.costOfGoods, \" $\") : \"Loading...\")), React.createElement(\"div\", {\n      className: \"products-page-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"h4\", {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Inventory\"), React.createElement(\"h4\", {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Product Type\"), React.createElement(\"h4\", {\n      className: \"item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Price\")), this.renderProducts());\n  }\n\n}\n\nexport default Products;","map":{"version":3,"sources":["/Users/yazanalmatar/Desktop/dashboard/client/src/components/Products.js"],"names":["React","ProductComponent","Loading","Products","Component","constructor","props","fetchProducts","response","fetch","method","headers","then","json","products","setState","productsArray","data","costOfGoodsAndRetail","costOfGoods","costOfRetail","state","map","product","variants","prdct","tempCost","inventory_quantity","parseInt","cost_per_item","tempCost2","price","console","log","componentDidMount","renderProducts","title","productsRendered","id","image","product_type","display","justifyContent","margin","alignItems","marginTop","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAmDnBC,aAnDmB,GAmDH,YAAY;AAC1B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAD,EAAsB;AAChDC,QAAAA,MAAM,EAAE,KADwC;AAEhDC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFuC,OAAtB,CAAL,CAMpBC,IANoB,CAMfJ,QAAQ,IAAI;AAChB,eAAOA,QAAQ,CAACK,IAAT,EAAP;AACD,OARoB,EASpBD,IAToB,CASfE,QAAQ,IAAI;AAChB,aAAKC,QAAL,CAAc;AAAEC,UAAAA,aAAa,EAAEF,QAAQ,CAACG;AAA1B,SAAd;AACA,aAAKC,oBAAL;AACD,OAZoB,CAAvB;AAaD,KAjEkB;;AAAA,SAkEnBA,oBAlEmB,GAkEI,MAAM;AAC3B,UAAIC,WAAW,GAAG,CAAlB;AACA,UAAIC,YAAY,GAAG,CAAnB;AACA,UAAIJ,aAAa,GAAG,KAAKK,KAAL,CAAWL,aAA/B;AACAA,MAAAA,aAAa,CAACM,GAAd,CAAkBC,OAAO,IAAI;AAC3BA,QAAAA,OAAO,CAACC,QAAR,CAAiBF,GAAjB,CAAqBG,KAAK,IAAI;AAC5B,cAAIC,QAAQ,GAAGD,KAAK,CAACE,kBAAN,GAA2BC,QAAQ,CAACH,KAAK,CAACI,aAAP,CAAlD;AACAV,UAAAA,WAAW,GAAGA,WAAW,GAAGO,QAA5B;AACA,cAAII,SAAS,GAAGL,KAAK,CAACE,kBAAN,GAA2BC,QAAQ,CAACH,KAAK,CAACM,KAAP,CAAnD;AACAX,UAAAA,YAAY,GAAGA,YAAY,GAAGU,SAA9B;AACD,SALD;AAMD,OAPD;AAQA,WAAKf,QAAL,CAAc;AAAEI,QAAAA,WAAW,EAAEA,WAAf;AAA4BC,QAAAA,YAAY,EAAEA;AAA1C,OAAd;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYd,WAAZ;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYb,YAAZ;AACD,KAjFkB;;AAEjB,SAAKC,KAAL,GAAa;AACXL,MAAAA,aAAa,EAAE,EADJ;AAEXG,MAAAA,WAAW,EAAE,IAFF;AAGXC,MAAAA,YAAY,EAAE;AAHH,KAAb;AAKD;;AAEDc,EAAAA,iBAAiB,GAAG;AAClB,SAAK3B,aAAL;AACD;;AAED4B,EAAAA,cAAc,GAAG;AACf,QAAI,KAAKd,KAAL,CAAWL,aAAX,CAAyB,CAAzB,CAAJ,EAAiC;AAC/B,YAAMoB,KAAK,GAAG,KAAKf,KAAL,CAAWL,aAAX,CAAyB,CAAzB,EAA4BoB,KAA1C;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACA,YAAMpB,aAAa,GAAG,KAAKK,KAAL,CAAWL,aAAjC;AACA,YAAMqB,gBAAgB,GAAGrB,aAAa,CAACM,GAAd,CAAkBC,OAAO,IAAI;AACpD,eACE,oBAAC,gBAAD;AACE,UAAA,EAAE,EAAEA,OAAO,CAACe,EADd;AAEE,UAAA,KAAK,EAAEf,OAAO,CAACa,KAFjB;AAGE,UAAA,KAAK,EAAEb,OAAO,CAACgB,KAHjB;AAIE,UAAA,YAAY,EAAEhB,OAAO,CAACiB,YAJxB;AAKE,UAAA,QAAQ,EAAEjB,OAAO,CAACC,QALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AASD,OAVwB,CAAzB;AAYA,aACE;AAAK,QAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGa,gBADH,CADF;AAKD;;AACD,WACE;AACE,MAAA,KAAK,EAAE;AACLI,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,cAAc,EAAE,QAFX;AAGLC,QAAAA,MAAM,EAAE,MAHH;AAILC,QAAAA,UAAU,EAAE,QAJP;AAKLC,QAAAA,SAAS,EAAE;AALN,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF;AAaD;;AAiCDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAsB,KAAKzB,KAAL,CAAWD,YAAZ,aAA+B,KAAKC,KAAL,CAAWD,YAA1C,UAA6D,YAAlF,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAqB,KAAKC,KAAL,CAAWF,WAAZ,aAA+B,KAAKE,KAAL,CAAWF,WAA1C,UAA4D,YAAhF,CAHF,CADF,EAOE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,EAGE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,EAIE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,EAKE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,CAPF,EAeG,KAAKgB,cAAL,EAfH,CADF;AAmBD;;AAvGoC;;AA0GvC,eAAehC,QAAf","sourcesContent":["import React from \"react\";\nimport \"../App.css\";\nimport ProductComponent from \"./ProductComponent\";\nimport Loading from \"./Loading\";\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productsArray: [],\n      costOfGoods: null,\n      costOfRetail: null\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProducts();\n  }\n  \n  renderProducts() {\n    if (this.state.productsArray[0]) {\n      const title = this.state.productsArray[0].title;\n      console.log(title);\n      const productsArray = this.state.productsArray;\n      const productsRendered = productsArray.map(product => {\n        return (\n          <ProductComponent\n            id={product.id}\n            title={product.title}\n            image={product.image}\n            product_type={product.product_type}\n            variants={product.variants}\n          />\n        );\n      });\n\n      return (\n        <div className=\"product-component-main-container\">\n          {productsRendered}\n        </div>\n      );\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          margin: \"auto\",\n          alignItems: \"center\",\n          marginTop: \"100px\"\n        }}\n      >\n        <Loading />\n      </div>\n    );\n  }\n\n  fetchProducts = async () => {\n    const response = await fetch(\"/api/v1/inventory\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    })\n      .then(response => {\n        return response.json();\n      })\n      .then(products => {\n        this.setState({ productsArray: products.data });\n        this.costOfGoodsAndRetail();\n      });\n  };\n  costOfGoodsAndRetail = () => {\n    var costOfGoods = 0;\n    var costOfRetail = 0;\n    var productsArray = this.state.productsArray;\n    productsArray.map(product => {\n      product.variants.map(prdct => {\n        var tempCost = prdct.inventory_quantity * parseInt(prdct.cost_per_item);\n        costOfGoods = costOfGoods + tempCost;\n        var tempCost2 = prdct.inventory_quantity * parseInt(prdct.price);\n        costOfRetail = costOfRetail + tempCost2;\n      });\n    });\n    this.setState({ costOfGoods: costOfGoods, costOfRetail: costOfRetail });\n    console.log(costOfGoods);\n    console.log(costOfRetail);\n  };\n  render() {\n    return (\n      <div className=\"products-page-wrapper\">\n        <div className=\"products-page-header\">\n\n          <h4>Cost of retail: {(this.state.costOfRetail) ? `${this.state.costOfRetail} $` : \"Loading...\"}</h4>\n          <h4>Cost of goods: {(this.state.costOfGoods)  ? `${this.state.costOfGoods} $` : \"Loading...\"}</h4>\n        </div>\n    \n        <div className=\"products-page-header\">\n          {/* <h4 className=\"item\">Product</h4> */}\n          <h4 className=\"item\">Title</h4>\n          <h4 className=\"item\">Inventory</h4>\n          <h4 className=\"item\">Product Type</h4>\n          <h4 className=\"item\">Price</h4>\n        </div>\n\n        {this.renderProducts()}\n      </div>\n    );\n  }\n}\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}