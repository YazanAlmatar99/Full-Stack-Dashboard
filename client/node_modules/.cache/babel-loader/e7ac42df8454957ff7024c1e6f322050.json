{"ast":null,"code":"var _jsxFileName = \"/Users/yazanalmatar/Desktop/dashboard/client/src/components/Dashboard.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport Products from \"./Products\";\nimport QRCodeGenerator from \"./QRCodeGenerator\";\nimport Inventory from \"./Inventory\";\nimport Orders from \"./Orders\";\nimport Horoscope from \"./Horoscope\";\nimport Influencer from \"./Influencer\";\nimport Menu from \"./Menu\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentsShowHandler = props => {\n      console.log(this.state.userGoogleIdFromRes.role);\n\n      if (this.state.userGoogleIdFromRes.role == \"admin\") {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, React.createElement(Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"components_wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(Inventory, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }), React.createElement(Orders, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), React.createElement(Products, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }), React.createElement(Horoscope, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        })), React.createElement(QRCodeGenerator, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }));\n      } else if (this.state.userGoogleIdFromRes.role == \"influencer\") {\n        return React.createElement(\"div\", {\n          className: \"components_wrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(Influencer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }));\n      }\n    };\n\n    this.fetchAPI = () => {\n      var inputValue = document.getElementById(\"inputId\").value;\n      axios.delete(\"/a/v1/horoscope/\".concat(inputValue), {\n        params: this.state.userGoogleIdFromRes\n      }).then(response => {\n        console.log(\"its deleted\");\n        console.log(response);\n      });\n    };\n\n    this.state = {\n      userGoogleIdFromRes: null\n    };\n  }\n\n  componentDidMount() {\n    axios.post(\"/auth/google/userAuth\", {\n      data: this.props.auth\n    }).then(res => {\n      console.log(\"the user auth function is done\");\n      console.log(res.data.googleId);\n      this.setState({\n        userGoogleIdFromRes: res.data\n      }); // console.log(this.state.userGoogleIdFromRes.role)\n    }).then(() => {\n      if (this.state.userGoogleIdFromRes) {\n        this.componentsShowHandler();\n      }\n    });\n  }\n\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n\n      case false:\n        window.location.replace(\"/auth/google\");\n        return;\n\n      default:\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, this.componentsShowHandler(), React.createElement(\"a\", {\n          href: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, \"Dashboard - Ana Luisa\"), React.createElement(\"button\", {\n          onClick: this.fetchAPI,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \"Delete\"), React.createElement(\"input\", {\n          id: \"inputId\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.renderContent()));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(Dashboard);","map":{"version":3,"sources":["/Users/yazanalmatar/Desktop/dashboard/client/src/components/Dashboard.js"],"names":["React","connect","axios","Products","QRCodeGenerator","Inventory","Orders","Horoscope","Influencer","Menu","Dashboard","Component","constructor","props","componentsShowHandler","console","log","state","userGoogleIdFromRes","role","fetchAPI","inputValue","document","getElementById","value","delete","params","then","response","componentDidMount","post","data","auth","res","googleId","setState","renderContent","window","location","replace","render","textAlign","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,SAAN,SAAwBV,KAAK,CAACW,SAA9B,CAAwC;AACtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsBnBC,qBAtBmB,GAsBKD,KAAK,IAAI;AAC/BE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,mBAAX,CAA+BC,IAA3C;;AACA,UAAI,KAAKF,KAAL,CAAWC,mBAAX,CAA+BC,IAA/B,IAAuC,OAA3C,EAAoD;AAClD,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,EAEE;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,EAGE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF,EAIE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJF,CAFF,EAQE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,CADF;AAYD,OAbD,MAaO,IAAI,KAAKF,KAAL,CAAWC,mBAAX,CAA+BC,IAA/B,IAAuC,YAA3C,EAAyD;AAC9D,eACE;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD;AACF,KA5CkB;;AAAA,SAgEnBC,QAhEmB,GAgER,MAAM;AACf,UAAIC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAApD;AACAtB,MAAAA,KAAK,CACFuB,MADH,2BAC6BJ,UAD7B,GAC2C;AACvCK,QAAAA,MAAM,EAAE,KAAKT,KAAL,CAAWC;AADoB,OAD3C,EAIGS,IAJH,CAIQC,QAAQ,IAAI;AAChBb,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYY,QAAZ;AACD,OAPH;AAQD,KA1EkB;;AAEjB,SAAKX,KAAL,GAAa;AACXC,MAAAA,mBAAmB,EAAE;AADV,KAAb;AAGD;;AACDW,EAAAA,iBAAiB,GAAG;AAClB3B,IAAAA,KAAK,CACF4B,IADH,CACQ,uBADR,EACiC;AAAEC,MAAAA,IAAI,EAAE,KAAKlB,KAAL,CAAWmB;AAAnB,KADjC,EAEGL,IAFH,CAEQM,GAAG,IAAI;AACXlB,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAG,CAACF,IAAJ,CAASG,QAArB;AACA,WAAKC,QAAL,CAAc;AAAEjB,QAAAA,mBAAmB,EAAEe,GAAG,CAACF;AAA3B,OAAd,EAHW,CAIX;AACD,KAPH,EAQGJ,IARH,CAQQ,MAAM;AACV,UAAI,KAAKV,KAAL,CAAWC,mBAAf,EAAoC;AAClC,aAAKJ,qBAAL;AACD;AACF,KAZH;AAaD;;AAyBDsB,EAAAA,aAAa,GAAG;AACd,YAAQ,KAAKvB,KAAL,CAAWmB,IAAnB;AACE,WAAK,IAAL;AACE;;AACF,WAAK,KAAL;AACEK,QAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,cAAxB;AACA;;AACF;AACE,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,KAAKzB,qBAAL,EADH,EAGE;AAAG,UAAA,IAAI,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAHF,EAIE;AAAQ,UAAA,OAAO,EAAE,KAAKM,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,EAKE;AAAO,UAAA,EAAE,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UALF,CADF;AAPJ;AAiBD;;AAYDoB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKL,aAAL,EAAL,CADF,CADF;AAKD;;AAlFqC;;AAqFxC,MAAMM,eAAe,GAAGzB,KAAK,IAAI;AAC/B,SAAO;AAAEe,IAAAA,IAAI,EAAEf,KAAK,CAACe;AAAd,GAAP;AACD,CAFD;;AAGA,eAAe/B,OAAO,CAACyC,eAAD,CAAP,CAAyBhC,SAAzB,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport Products from \"./Products\";\nimport QRCodeGenerator from \"./QRCodeGenerator\";\nimport Inventory from \"./Inventory\";\nimport Orders from \"./Orders\";\nimport Horoscope from \"./Horoscope\";\nimport Influencer from \"./Influencer\";\nimport Menu from \"./Menu\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userGoogleIdFromRes: null\n    };\n  }\n  componentDidMount() {\n    axios\n      .post(\"/auth/google/userAuth\", { data: this.props.auth })\n      .then(res => {\n        console.log(\"the user auth function is done\");\n        console.log(res.data.googleId);\n        this.setState({ userGoogleIdFromRes: res.data });\n        // console.log(this.state.userGoogleIdFromRes.role)\n      })\n      .then(() => {\n        if (this.state.userGoogleIdFromRes) {\n          this.componentsShowHandler();\n        }\n      });\n  }\n\n  componentsShowHandler = props => {\n    console.log(this.state.userGoogleIdFromRes.role);\n    if (this.state.userGoogleIdFromRes.role == \"admin\") {\n      return (\n        <div>\n        <Menu/>\n          <div className=\"components_wrapper\">\n            <Inventory />\n            <Orders />\n            <Products />\n            <Horoscope />\n          </div>\n          <QRCodeGenerator />\n        </div>\n      );\n    } else if (this.state.userGoogleIdFromRes.role == \"influencer\") {\n      return (\n        <div className=\"components_wrapper\">\n          <Influencer />\n        </div>\n      );\n    }\n  };\n  renderContent() {\n    switch (this.props.auth) {\n      case null:\n        return;\n      case false:\n        window.location.replace(\"/auth/google\");\n        return;\n      default:\n        return (\n          <div>\n            {this.componentsShowHandler()}\n\n            <a href=\"/\">Dashboard - Ana Luisa</a>\n            <button onClick={this.fetchAPI}>Delete</button>\n            <input id=\"inputId\" />\n          </div>\n        );\n    }\n  }\n  fetchAPI = () => {\n    var inputValue = document.getElementById(\"inputId\").value;\n    axios\n      .delete(`/a/v1/horoscope/${inputValue}`, {\n        params: this.state.userGoogleIdFromRes\n      })\n      .then(response => {\n        console.log(\"its deleted\");\n        console.log(response);\n      });\n  };\n  render() {\n    return (\n      <div style={{ textAlign: \"center\" }}>\n        <h1>{this.renderContent()}</h1>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { auth: state.auth };\n};\nexport default connect(mapStateToProps)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}